<!DOCTYPE html>

<html class="scroll-smooth" lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Tratamento de Erros e Timeouts em LLMs</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&amp;family=Fira+Code:wght@400;500&amp;display=swap" rel="stylesheet"/>
<script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              mono: ["Fira Code", "monospace"],
            },
            colors: {
              brand: {
                50: "#fef2f2",
                100: "#fee2e2",
                200: "#fecaca",
                300: "#fca5a5",
                400: "#f87171",
                500: "#ef4444",
                600: "#dc2626", // Red 600 - Danger/Alert theme
                700: "#b91c1c",
                800: "#991b1b",
                900: "#7f1d1d",
              },
              warning: {
                50: "#fffbeb",
                600: "#d97706",
              },
            },
            animation: {
              "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
          },
        },
      };
    </script>
<style>
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      .code-block {
        background-color: #1a1a1a; /* Dark gray */
        color: #e5e5e5;
        padding: 1.5rem;
        border-radius: 0.5rem;
        font-family: "Fira Code", monospace;
        overflow-x: auto;
        font-size: 0.85rem;
        line-height: 1.6;
        border: 1px solid #333;
      }

      /* Syntax Highlighting Mock */
      .token-keyword {
        color: #ff7b72;
      } /* Red/Pink */
      .token-func {
        color: #d2a8ff;
      } /* Purple */
      .token-string {
        color: #a5d6ff;
      } /* Blue */
      .token-comment {
        color: #8b949e;
        font-style: italic;
      } /* Gray */
      .token-dec {
        color: #79c0ff;
      } /* Light Blue */

      .flow-node {
        background: white;
        border: 2px solid #e5e7eb;
        padding: 1rem;
        border-radius: 8px;
        text-align: center;
        font-size: 0.9rem;
        position: relative;
        transition: all 0.3s;
      }
      .flow-node:hover {
        border-color: #dc2626;
        transform: translateY(-2px);
        box-shadow: 0 4px 6px rgba(220, 38, 38, 0.1);
      }
      .flow-diamond {
        transform: rotate(45deg);
        width: 3rem;
        height: 3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        background: #fee2e2;
        border: 2px solid #ef4444;
      }
      .flow-diamond span {
        transform: rotate(-45deg);
        font-weight: bold;
        color: #991b1b;
        font-size: 0.7rem;
      }

      /* Styles da Hero (Padrão Unificado) */
      .glass-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15);
      }

      .connection-line {
        position: relative;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.15);
      }

      .connection-line::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.9),
          transparent
        );
        animation: flowLine 2s infinite linear;
      }

      @keyframes flowLine {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      .grid-bg {
        background-image: linear-gradient(
            rgba(255, 255, 255, 0.03) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 40px 40px;
      }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">
<!-- Header -->
<header class="bg-white border-b border-gray-200 fixed w-full top-0 z-50">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
<div class="flex items-center space-x-3">
<div class="bg-brand-600 text-white p-2 rounded-lg">
<i class="fas fa-shield-virus"></i>
</div>
<h1 class="text-xl font-bold text-gray-900">Resiliência em GenAI</h1>
</div>
<div class="hidden md:block text-sm text-gray-500">
          Série: Confiabilidade
        </div>
</div>
</header>
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-12 flex flex-col lg:flex-row gap-8">
<!-- Sidebar Navigation -->
<aside aria-label="Navegação lateral" class="lg:w-64 flex-shrink-0 hidden lg:block">
<nav class="sticky top-24 space-y-1">
<a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-900 bg-brand-50 hover:bg-brand-100" href="#intro">
<i class="fas fa-exclamation-triangle w-6 text-brand-600"></i>
            Contexto
          </a>
<a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900" href="#approach">
<i class="fas fa-random w-6 text-brand-600"></i> Padrões de Defesa
          </a>
<a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900" href="#concepts">
<i class="fas fa-stopwatch w-6 text-brand-600"></i> Backoff &amp; Jitter
          </a>
<a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900" href="#hands-on">
<i class="fas fa-code w-6 text-brand-600"></i> Código Resiliente
          </a>
<a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900" href="#metrics">
<i class="fas fa-chart-line w-6 text-brand-600"></i> Métricas
          </a>
<a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900" href="#evidence">
<i class="fas fa-bomb w-6 text-brand-600"></i> Chaos Testing
          </a>
</nav>
</aside>
<!-- Main Content -->
<main class="flex-1 space-y-12">
<!-- Hero Section (Atualizada para Padrão Visual - Tema Red/Alert) -->
<section class="relative rounded-3xl overflow-hidden mb-12 shadow-2xl">
<!-- Background Gradient & Grid -->
<div class="absolute inset-0 bg-gradient-to-br from-[#7f1d1d] via-[#b91c1c] to-[#ef4444]"></div>
<div class="absolute inset-0 grid-bg opacity-30 pointer-events-none"></div>
<!-- Ambient Lighting -->
<div class="absolute top-[-20%] left-[-20%] w-[60%] h-[60%] bg-brand-400 rounded-full mix-blend-overlay filter blur-[100px] opacity-20 animate-pulse-slow"></div>
<div class="absolute bottom-[-20%] right-[-20%] w-[60%] h-[60%] bg-brand-200 rounded-full mix-blend-overlay filter blur-[100px] opacity-20 animate-pulse-slow" style="animation-delay: 3s"></div>
<div class="flex flex-col lg:flex-row items-center justify-between px-8 py-16 md:px-16 md:py-20 relative z-10 gap-12">
<!-- Coluna Esquerda: Texto -->
<div class="lg:w-1/2 w-full text-white">
<div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 backdrop-blur-sm mb-6">
<i class="fas fa-life-ring text-brand-200 text-xs"></i>
<span class="text-xs font-semibold tracking-wider uppercase text-brand-100">Reliability Engineering</span>
</div>
<h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight leading-tight mb-6">
                Tratamento <br/>
<span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-200 to-white">de Erros em LLM</span>
</h1>
<p class="text-lg md:text-xl text-brand-100 font-light leading-relaxed mb-8 border-l-4 border-brand-400 pl-6">
                Como sobreviver a timeouts de 60s e APIs instáveis sem perder o
                usuário.
              </p>
</div>
<!-- Coluna Direita: Diagrama Visual (Shield Protection) -->
<div class="lg:w-1/2 w-full flex items-center justify-center">
<div class="relative w-full max-w-md flex items-center justify-center gap-4">
<!-- Threat/Bug -->
<div class="flex flex-col items-center gap-2 animate-bounce">
<div class="w-14 h-14 rounded-full bg-red-900/50 flex items-center justify-center border border-red-500/30 text-red-400 text-2xl">
<i class="fas fa-bug"></i>
</div>
<span class="text-xs font-mono text-red-300">Error</span>
</div>
<!-- Shield (Center) -->
<div class="relative z-10">
<div class="absolute inset-0 bg-red-500/20 blur-xl rounded-full"></div>
<div class="glass-card w-24 h-24 rounded-2xl flex items-center justify-center text-4xl text-white border border-red-400 shadow-[0_0_20px_rgba(239,68,68,0.4)]">
<i class="fas fa-shield-alt"></i>
</div>
</div>
<!-- Protected App -->
<div class="flex flex-col items-center gap-2">
<div class="w-14 h-14 rounded-xl bg-white/5 flex items-center justify-center border border-white/10 text-green-400 text-2xl">
<i class="fas fa-check"></i>
</div>
<span class="text-xs font-mono text-green-200">Safe</span>
</div>
</div>
</div>
</div>
</section>
<!-- 1. Contexto -->
<section class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100" id="intro">
<h2 class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2">
<span class="text-brand-600">1.</span> Contexto e Propósito
          </h2>
<div class="prose max-w-none text-gray-600">
<p class="mb-4">
              Se você trabalha com GenAI, já percebeu: não existe "garantia de
              resposta". O que separa um produto de sucesso de uma demo
              esquecida é a capacidade de lidar com falhas de forma
              transparente. Em 2024, segundo a Scale AI,
              <strong>68% dos incidentes</strong> em produção são causados por
              falhas de API ou timeouts.
            </p>
<p class="mb-6">
              Em sistemas tradicionais (pagamentos, busca), falhas são raras (&lt;
              2%). Em GenAI, erros podem chegar a <strong>15%</strong> em
              horários de pico. Apps que não tratam isso perdem clientes para
              sempre.
            </p>
<div class="overflow-x-auto mb-6">
<table class="min-w-full text-sm text-left border border-gray-200 rounded-lg">
<thead class="bg-gray-100 text-gray-700 font-bold">
<tr>
<th class="px-4 py-2">Sistema</th>
<th class="px-4 py-2">% Erros (Pico)</th>
<th class="px-4 py-2">Impacto no Usuário</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr>
<td class="px-4 py-2">Pagamento</td>
<td class="px-4 py-2 text-green-600">1-2%</td>
<td class="px-4 py-2">Erro explícito, tenta novamente.</td>
</tr>
<tr class="bg-red-50">
<td class="px-4 py-2 font-bold text-brand-800">
                      GenAI (LLM)
                    </td>
<td class="px-4 py-2 font-bold text-brand-600">10-15%</td>
<td class="px-4 py-2">
                      Tela branca, lentidão, frustração.
                    </td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<!-- 2. Abordagem -->
<section class="space-y-6" id="approach">
<div class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100">
<h2 class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2">
<span class="text-brand-600">2.</span> Abordagem: Padrões de
              Defesa
            </h2>
<div class="grid md:grid-cols-3 gap-4 mb-8">
<div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
<div class="text-brand-600 font-bold mb-2">
                  1. Erros Transientes
                </div>
<div class="text-xs text-gray-500 mb-2">
                  Rate Limit (429), Server Error (5xx)
                </div>
<div class="text-sm font-semibold">Defesa: Retry + Backoff</div>
</div>
<div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
<div class="text-brand-600 font-bold mb-2">
                  2. Erros Lógicos
                </div>
<div class="text-xs text-gray-500 mb-2">
                  Prompt too long, Bad Request
                </div>
<div class="text-sm font-semibold">Defesa: Truncamento</div>
</div>
<div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
<div class="text-brand-600 font-bold mb-2">3. Falha Total</div>
<div class="text-xs text-gray-500 mb-2">
                  API Down, Max Retries
                </div>
<div class="text-sm font-semibold">
                  Defesa: Fallback Gracioso
                </div>
</div>
</div>
<!-- CSS Diagram: Error Flow -->
<div class="bg-slate-50 p-8 rounded-xl border border-dashed border-slate-300 flex flex-col items-center">
<h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-6">
                Fluxo de Tratamento de Erro
              </h3>
<div class="flex flex-col items-center gap-4 w-full max-w-md">
<div class="flow-node w-full border-blue-200 bg-blue-50 text-blue-800">
                  Chamada LLM
                </div>
<i class="fas fa-arrow-down text-gray-300"></i>
<div class="flex items-center gap-4 w-full">
<div class="flow-diamond"><span>Erro?</span></div>
<div class="flex-1 border-b-2 border-dashed border-gray-300 h-1 relative">
<span class="absolute -top-3 right-0 text-xs text-green-600">Não</span>
</div>
<div class="flow-node border-green-200 bg-green-50 text-green-800">
                    Sucesso
                  </div>
</div>
<div class="w-0.5 h-8 bg-gray-300 relative">
<span class="absolute left-2 top-2 text-xs text-red-600">Sim</span>
</div>
<div class="flow-node w-full border-brand-200 bg-brand-50 text-brand-800">
<div class="font-bold">Estratégia de Defesa</div>
<div class="text-xs mt-1">
                    Retry -&gt; Circuit Breaker -&gt; Fallback
                  </div>
</div>
</div>
</div>
</div>
</section>
<!-- 3. Conceitos -->
<section class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100" id="concepts">
<h2 class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2">
<span class="text-brand-600">3.</span> Conceitos Fundamentais
          </h2>
<div class="space-y-6">
<div>
<h3 class="font-bold text-brand-700 text-lg flex items-center gap-2">
<i class="fas fa-chart-line"></i> Exponential Backoff
              </h3>
<p class="text-gray-600 mb-4">
                Se a API falhar, não tente imediatamente. Espere tempos
                crescentes (1s, 2s, 4s, 8s). Isso dá tempo para o servidor se
                recuperar e evita o "efeito manada".
              </p>
<!-- Visual Backoff -->
<div class="flex items-end gap-2 h-24 border-b border-gray-300 pb-2 mb-2">
<div class="bg-brand-400 w-8 h-4 rounded-t mx-auto relative group">
<span class="absolute -top-6 left-0 text-xs w-20 opacity-0 group-hover:opacity-100">Tentativa 1 (1s)</span>
</div>
<div class="bg-brand-500 w-8 h-8 rounded-t mx-auto relative group">
<span class="absolute -top-6 left-0 text-xs w-20 opacity-0 group-hover:opacity-100">Tentativa 2 (2s)</span>
</div>
<div class="bg-brand-600 w-8 h-16 rounded-t mx-auto relative group">
<span class="absolute -top-6 left-0 text-xs w-20 opacity-0 group-hover:opacity-100">Tentativa 3 (4s)</span>
</div>
<div class="bg-brand-700 w-8 h-full rounded-t mx-auto relative group">
<span class="absolute -top-6 left-0 text-xs w-20 opacity-0 group-hover:opacity-100">Tentativa 4 (8s)</span>
</div>
</div>
</div>
<div class="grid md:grid-cols-2 gap-6">
<div class="border-l-4 border-yellow-400 pl-4 bg-yellow-50 p-4 rounded-r">
<h4 class="font-bold text-yellow-800">
                  Jitter (Aleatoriedade)
                </h4>
<p class="text-sm text-yellow-700">
                  Adiciona um tempo aleatório ao backoff. Impede que 10.000
                  clientes tentem o retry exatamente no mesmo milissegundo.
                </p>
</div>
<div class="border-l-4 border-purple-400 pl-4 bg-purple-50 p-4 rounded-r">
<h4 class="font-bold text-purple-800">Circuit Breaker</h4>
<p class="text-sm text-purple-700">
                  O "fusível" do software. Se falhar 10x seguidas, pare de
                  tentar por 1 minuto e falhe rápido para economizar recursos.
                </p>
</div>
</div>
</div>
</section>
<!-- 4. Hands On -->
<section class="space-y-8" id="hands-on">
<div class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100">
<h2 class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2">
<span class="text-brand-600">4.</span> Mão na Massa: Código
              Robusto
            </h2>
<p class="text-gray-600 mb-4 text-sm">
              Abaixo, um exemplo de implementação "bulletproof" usando as
              bibliotecas <code>tenacity</code> e <code>pybreaker</code>.
            </p>
<pre class="code-block"><code><span class="token-keyword">import</span> openai
<span class="token-keyword">from</span> tenacity <span class="token-keyword">import</span> retry, stop_after_attempt, wait_random_exponential
<span class="token-keyword">from</span> pybreaker <span class="token-keyword">import</span> CircuitBreaker

<span class="token-comment"># Configura Circuit Breaker: Abre após 5 falhas, reseta em 30s</span>
breaker = CircuitBreaker(fail_max=5, reset_timeout=30)

<span class="token-dec">@breaker</span>
<span class="token-dec">@retry</span>(
    <span class="token-comment"># Backoff exponencial com jitter: espera entre 1s e 10s</span>
    wait=wait_random_exponential(multiplier=1, max=10),
    <span class="token-comment"># Desiste após 3 tentativas</span>
    stop=stop_after_attempt(3)
)
<span class="token-keyword">def</span> <span class="token-func">call_llm_robust</span>(prompt):
    <span class="token-keyword">print</span>(<span class="token-string">"Tentando chamar API..."</span>)
    <span class="token-keyword">return</span> openai.chat.completions.create(
        model=<span class="token-string">"gpt-4"</span>,
        messages=[{<span class="token-string">"role"</span>: <span class="token-string">"user"</span>, <span class="token-string">"content"</span>: prompt}],
        timeout=15 <span class="token-comment"># Timeout explícito é vital!</span>
    )

<span class="token-keyword">def</span> <span class="token-func">get_summary</span>(restaurant_id):
    <span class="token-keyword">try</span>:
        response = call_llm_robust(<span class="token-string">f"Resuma reviews do id {restaurant_id}"</span>)
        <span class="token-keyword">return</span> response.choices[0].message.content
    <span class="token-keyword">except</span> Exception <span class="token-keyword">as</span> e:
        <span class="token-comment"># FALLBACK GRACIOSO - Nunca mostre erro 500</span>
        <span class="token-keyword">print</span>(<span class="token-string">f"Erro fatal: {e}"</span>)
        <span class="token-keyword">return</span> <span class="token-string">"Desculpe, resumo indisponível. O restaurante tem nota 4.8!"</span></code></pre>
<div class="mt-6 bg-brand-50 p-4 rounded border border-brand-200">
<h4 class="font-bold text-brand-800 mb-2">
                Dica Pro: Truncamento
              </h4>
<p class="text-sm text-brand-700">
                Se o erro for <em>Context Window Exceeded</em>, retry não ajuda.
                Use <code>tiktoken</code> para cortar o input antes de enviar.
              </p>
</div>
</div>
</section>
<!-- 5. Métricas e Benchmarks -->
<section class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100" id="metrics">
<h2 class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2">
<span class="text-brand-600">5.</span> Métricas de Resiliência
          </h2>
<div class="overflow-x-auto rounded-lg border border-gray-200 mb-8">
<table class="min-w-full text-sm text-left">
<thead class="bg-gray-100 text-gray-700 font-bold">
<tr>
<th class="px-6 py-3">Métrica</th>
<th class="px-6 py-3 text-red-500">Sem Resiliência</th>
<th class="px-6 py-3 text-green-600">Com Retry+Fallback</th>
<th class="px-6 py-3">Meta</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr>
<td class="px-6 py-4 font-bold">Latência P99</td>
<td class="px-6 py-4">18s (Timeout)</td>
<td class="px-6 py-4">7s</td>
<td class="px-6 py-4">&lt; 10s</td>
</tr>
<tr>
<td class="px-6 py-4 font-bold">Taxa de Erro</td>
<td class="px-6 py-4">12%</td>
<td class="px-6 py-4">2%</td>
<td class="px-6 py-4">&lt; 5%</td>
</tr>
<tr>
<td class="px-6 py-4 font-bold">NPS</td>
<td class="px-6 py-4">62</td>
<td class="px-6 py-4">81</td>
<td class="px-6 py-4">&gt; 75</td>
</tr>
</tbody>
</table>
</div>
<div class="grid md:grid-cols-2 gap-6">
<div>
<h3 class="font-bold text-gray-800 mb-2">Riscos Comuns</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
<li>
<strong>Custo de Retry:</strong> Cuidado para não triplicar
                  sua conta da OpenAI tentando requisições que vão falhar.
                </li>
<li>
<strong>Cascading Failure:</strong> Sem circuit breaker, seu
                  backend pode cair tentando reconectar.
                </li>
</ul>
</div>
<div>
<h3 class="font-bold text-gray-800 mb-2">Recomendações</h3>
<ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
<li>Timeout explícito no client (ex: 30s).</li>
<li>
                  Fallback estático ("Serviço instável") é melhor que loading
                  infinito.
                </li>
</ul>
</div>
</div>
</section>
<!-- 6. Evidências (Chaos Testing) -->
<section class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100" id="evidence">
<h2 class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2">
<span class="text-brand-600">6.</span> Evidence: Chaos Testing
          </h2>
<p class="text-gray-600 mb-6">
            Como saber se funciona? Quebre de propósito em Staging.
          </p>
<div class="grid md:grid-cols-2 gap-8">
<div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
<h3 class="font-bold text-gray-800 mb-2">
                Teste 1: Firewall Block
              </h3>
<p class="text-xs text-gray-500 mb-3">
                Bloqueie `api.openai.com` no firewall.
              </p>
<div class="bg-white p-3 rounded text-xs font-mono border border-gray-300">
<div>
<span class="text-red-500">❌ Sem Retry:</span> App trava ou
                  mostra erro 500.
                </div>
<div class="mt-2">
<span class="text-green-600">✅ Com Fallback:</span> Mostra
                  mensagem "Resumo indisponível" em 2s.
                </div>
</div>
</div>
<div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
<h3 class="font-bold text-gray-800 mb-2">Teste 2: Rate Limit</h3>
<p class="text-xs text-gray-500 mb-3">
                Simule erro 429 com Mock.
              </p>
<div class="bg-white p-3 rounded text-xs font-mono border border-gray-300">
<div>[10:30:00] Tentativa 1 - 429</div>
<div>[10:30:01] Esperando 1.2s...</div>
<div>[10:30:02] Tentativa 2 - 429</div>
<div>
                  [10:30:05] Tentativa 3 -
                  <span class="text-green-600">Success!</span>
</div>
</div>
</div>
</div>
</section>
<!-- 7. Reflexões -->
<section class="bg-brand-900 rounded-2xl p-8 md:p-10 shadow-xl text-gray-200 border border-white/10" id="reflections">
<h2 class="text-2xl md:text-3xl font-bold text-white mb-6">
          7. Reflexões &amp; Próximos Passos
        </h2>
<div class="w-full h-px bg-white/10 mb-8"></div>
<div class="grid lg:grid-cols-12 gap-10 md:gap-16">
<div class="lg:col-span-7 space-y-6 text-lg leading-relaxed font-light">
<p>
              "Código defensivo é código honesto. Implementar resiliência não é
              over-engineering — é respeito pelo tempo e confiança do seu
              usuário."
            </p>
</div>
<div class="lg:col-span-5">
<h3 class="text-sm font-bold text-red-400 uppercase tracking-widest mb-6 font-mono">
              Artigos Relacionados
            </h3>
<ul class="space-y-4">
<li class="flex items-start group">
<a class="flex items-center w-full hover:bg-white/5 p-2 -ml-2 rounded transition-colors" href="07-design-apis-genai.html">
<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white/10 rounded text-xs text-red-400 mr-3">
<i class="fas fa-arrow-left"></i>
</span>
<div class="flex flex-col">
<span class="text-[10px] uppercase tracking-widest opacity-50 text-red-400">Anterior</span>
<span class="text-sm text-gray-300 group-hover:text-white font-medium leading-tight">Padrões de Design de API para GenAI</span>
</div>
</a>
</li>
<li class="flex items-start group">
<a class="flex items-center w-full hover:bg-white/5 p-2 -ml-2 rounded transition-colors" href="09-arquiteturas-event-driven-ia.html">
<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white/10 rounded text-xs text-red-400 mr-3">
<i class="fas fa-arrow-right"></i>
</span>
<div class="flex flex-col">
<span class="text-[10px] uppercase tracking-widest opacity-50 text-red-400">Próximo</span>
<span class="text-sm text-gray-300 group-hover:text-white font-medium leading-tight">Arquiteturas Event-Driven para IA</span>
</div>
</a>
</li>
</ul>
</div>
</div>
</section>
</main>
</div>
<footer class="bg-white border-t border-gray-200 mt-12 py-8">
<div class="max-w-7xl mx-auto px-4 text-center text-gray-500 text-sm">
<p>© 2025 Resilient AI Series. Built to survive.</p>
</div>
</footer>
</body>
</html>
