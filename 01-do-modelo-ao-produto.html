<!DOCTYPE html>
<html class="scroll-smooth" lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Do Modelo ao Produto: LLM em Apps de Entrega</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&amp;family=Fira+Code:wght@400;500&amp;display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              "spin-slow": "spin 3s linear infinite",
              "pulse-slow": "pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              mono: ["Fira Code", "monospace"],
            },
            colors: {
              brand: {
                50: "#f5f3ff",
                100: "#ede9fe",
                200: "#ddd6fe",
                300: "#c4b5fd",
                400: "#a78bfa",
                500: "#8b5cf6", // Roxo principal
                600: "#7c3aed",
                700: "#6d28d9",
                800: "#5b21b6",
                900: "#4c1d95",
              },
            },
          },
        },
      };
    </script>
    <style>
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      .code-block {
        background-color: #1e1e1e;
        color: #d4d4d4;
        padding: 1.5rem;
        border-radius: 0.5rem;
        font-family: "Fira Code", monospace;
        overflow-x: auto;
        font-size: 0.85rem;
        line-height: 1.6;
        border: 1px solid #333;
      }

      .keyword {
        color: #569cd6;
      }
      .string {
        color: #ce9178;
      }
      .function {
        color: #dcdcaa;
      }
      .comment {
        color: #6a9955;
        font-style: italic;
      }

      /* Styles da Hero (Inalterados) */
      .glass-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15);
      }

      .connection-line {
        position: relative;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.15);
      }

      .connection-line::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.9),
          transparent
        );
        animation: flowLine 2s infinite linear;
      }

      .grid-bg {
        background-image: linear-gradient(
            rgba(255, 255, 255, 0.03) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 40px 40px;
      }

      .step-card {
        transition: all 0.2s ease-in-out;
      }
      .step-card:hover {
        transform: translateY(-2px);
        border-color: #8b5cf6;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800 antialiased">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 fixed w-full top-0 z-50">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"
      >
        <a
          href="index.html"
          class="flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer"
        >
          <div class="bg-brand-600 text-white p-2 rounded-lg">
            <i class="fas fa-cubes"></i>
          </div>
          <h1 class="text-xl font-bold text-gray-900">
            LLM Product Engineering
          </h1>
        </a>
                  <div class="flex items-center gap-3">
            <div class="hidden md:block text-sm text-gray-500">
              M√≥dulo 1: Fundamentos e Estrat√©gias
            </div>
            <!-- Bot√µes de Exporta√ß√£o DOCX/PDF Visual -->
            <div class="flex items-center gap-2 md:gap-3">
              <button id="export-pdf-btn" class="flex items-center gap-2 px-3 md:px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-sm md:text-base font-medium shadow-sm" title="Exportar como PDF">
                <i class="fas fa-file-pdf"></i>
                <span class="hidden md:inline">PDF</span>
              </button>
              <button id="export-docx-btn" class="flex items-center gap-2 px-3 md:px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors text-sm md:text-base font-medium shadow-sm" title="Exportar como DOCX">
                <i class="fas fa-file-word"></i>
                <span class="hidden md:inline">DOCX</span>
              </button>
            </div>
            
      </div>
    </header>

    <div
      class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-12 flex flex-col lg:flex-row gap-8"
    >
      <!-- Sidebar Navigation -->
      <aside
        aria-label="Navega√ß√£o lateral do artigo"
        class="lg:w-64 flex-shrink-0 hidden lg:block"
      >
        <nav class="sticky top-24 space-y-1">
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-brand-50 hover:text-brand-700"
            href="#intro"
          >
            <i class="fas fa-rocket w-6 text-brand-600"></i> Contexto
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#journey"
          >
            <i class="fas fa-map-signs w-6 text-brand-600"></i> A Jornada
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#approach"
          >
            <i class="fas fa-utensils w-6 text-brand-600"></i> Abordagem
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#concepts"
          >
            <i class="fas fa-book w-6 text-brand-600"></i> Conceitos
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#pipeline"
          >
            <i class="fas fa-project-diagram w-6 text-brand-600"></i> Pipeline
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#hands-on"
          >
            <i class="fas fa-code w-6 text-brand-600"></i> Implementa√ß√£o
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#risks"
          >
            <i class="fas fa-chart-line w-6 text-brand-600"></i>
            M√©tricas
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#evidence"
          >
            <i class="fas fa-vial w-6 text-brand-600"></i> Experimenta√ß√£o
          </a>
          <a
            class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900"
            href="#reflections"
          >
            <i class="fas fa-lightbulb w-6 text-brand-600"></i> Reflex√µes
          </a>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 space-y-12">
        <!-- Hero Section (INALTERADO) -->
        <section class="relative rounded-3xl overflow-hidden mb-12 shadow-2xl">
          <!-- Background Gradient & Grid -->
          <div
            class="absolute inset-0 bg-gradient-to-br from-[#4c1d95] via-[#6d28d9] to-[#8b5cf6]"
          ></div>
          <div
            class="absolute inset-0 grid-bg opacity-30 pointer-events-none"
          ></div>
          <!-- Ambient Lighting (Decorativo) -->
          <div
            class="absolute top-[-20%] left-[-20%] w-[60%] h-[60%] bg-brand-400 rounded-full mix-blend-overlay filter blur-[100px] opacity-20 animate-pulse-slow"
          ></div>
          <div
            class="absolute bottom-[-20%] right-[-20%] w-[60%] h-[60%] bg-brand-300 rounded-full mix-blend-overlay filter blur-[100px] opacity-20 animate-pulse-slow"
            style="animation-delay: 3s"
          ></div>
          <div
            class="flex flex-col lg:flex-row items-center justify-between px-8 py-16 md:px-16 md:py-20 relative z-10 gap-12"
          >
            <!-- Coluna Esquerda: Texto -->
            <div class="lg:w-1/2 w-full text-white">
              <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 backdrop-blur-sm mb-6"
              >
                <i class="fas fa-microchip text-brand-200 text-xs"></i>
                <span
                  class="text-xs font-semibold tracking-wider uppercase text-brand-100"
                  >Tech Engineering</span
                >
              </div>
              <h1
                class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight leading-tight mb-6"
              >
                Do modelo <br />
                <span
                  class="text-transparent bg-clip-text bg-gradient-to-r from-brand-200 to-white"
                  >ao produto</span
                >
              </h1>
              <p
                class="text-lg md:text-xl text-brand-100 font-light leading-relaxed mb-8 border-l-4 border-brand-400 pl-6"
              >
                Como transformar uma API de LLM em uma feature robusta,
                escal√°vel e segura.
              </p>
            </div>
            <!-- Coluna Direita: Diagrama Visual (Model to Product) -->
            <div class="lg:w-1/2 w-full flex items-center justify-center">
              <div class="relative w-full max-w-md">
                <div class="flex items-center justify-center gap-4">
                  <!-- Model (Brain) -->
                  <div class="flex flex-col items-center gap-2">
                    <div
                      class="glass-card w-20 h-20 rounded-2xl flex items-center justify-center text-3xl text-brand-200 border border-brand-400/30 shadow-lg"
                    >
                      <i class="fas fa-brain"></i>
                    </div>
                    <span class="text-xs font-mono text-brand-200">MODEL</span>
                  </div>
                  <!-- Transformation Arrow -->
                  <div
                    class="flex-1 h-1 bg-brand-400/30 rounded-full relative overflow-hidden"
                  >
                    <div
                      class="absolute inset-0 bg-brand-200/50 w-1/2 animate-[flowLine_1.5s_infinite_linear]"
                    ></div>
                  </div>
                  <!-- API Layer (Middle) -->
                  <div class="flex flex-col items-center gap-2">
                    <div
                      class="w-12 h-12 rounded-full bg-brand-500/20 flex items-center justify-center border border-brand-400 text-white text-xl animate-pulse"
                    >
                      <i class="fas fa-cog"></i>
                    </div>
                  </div>
                  <!-- Transformation Arrow -->
                  <div
                    class="flex-1 h-1 bg-brand-400/30 rounded-full relative overflow-hidden"
                  >
                    <div
                      class="absolute inset-0 bg-brand-200/50 w-1/2 animate-[flowLine_1.5s_infinite_linear]"
                      style="animation-delay: 0.2s"
                    ></div>
                  </div>
                  <!-- Product (Box) -->
                  <div class="flex flex-col items-center gap-2">
                    <div
                      class="glass-card w-20 h-20 rounded-2xl flex items-center justify-center text-3xl text-white border border-brand-300 shadow-[0_0_20px_rgba(139,92,246,0.4)]"
                    >
                      <i class="fas fa-cube"></i>
                    </div>
                    <span class="text-xs font-mono text-white font-bold"
                      >PRODUCT</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- 1. Contexto e Prop√≥sito -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="intro"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">1.</span> Contexto e Prop√≥sito ‚Äî explicado de verdade
          </h2>
          <div class="prose max-w-none text-gray-600">
            <p class="mb-6 font-medium text-gray-800">
              Nos √∫ltimos anos, integrar um LLM virou banal. Voc√™ pega uma chave
              da OpenAI, escreve 10 linhas de c√≥digo e pronto: tem ‚ÄúIA‚Äù
              respondendo textos bonitos na sua tela.
            </p>
            <p class="mb-6">
              Mas existe uma diferen√ßa abissal entre
              <strong>um prot√≥tipo que funciona no Jupyter</strong> e uma
              <strong>feature real</strong> que atende milh√µes de usu√°rios sem
              travar o app, sem explodir custos e sem inventar informa√ß√µes perigosas.
            </p>
            <p class="mb-6">
              O prop√≥sito deste artigo √© guiar voc√™ pela jornada completa ‚Äî da
              primeira chamada ao modelo at√© a opera√ß√£o em escala ‚Äî mostrando
              como transformar uma ideia em uma feature confi√°vel, r√°pida,
              escal√°vel e observ√°vel.
            </p>
            <div
              class="bg-brand-50 p-6 rounded-lg border-l-4 border-brand-500 mb-6"
            >
              <h4 class="text-brand-800 font-bold mb-2">
                Ao final, voc√™ vai entender:
              </h4>
              <ul class="list-disc pl-5 space-y-2 text-brand-900">
                <li>Como sair do prot√≥tipo (Playground, Colab, Jupyter).</li>
                <li>Como criar um MVP funcional.</li>
                <li>Como evoluir para uma feature robusta.</li>
                <li>Como operar IA em produ√ß√£o com m√©tricas, resili√™ncia e custos sob controle.</li>
                <li>Como montar um Pipeline de Produ√ß√£o de IA igual aos usados por grandes empresas.</li>
              </ul>
            </div>
            <p class="text-sm text-gray-500 italic">
              Esse √© o mapa completo para transformar uma API de LLM em produto.
            </p>
          </div>
        </section>

        <!-- 2. A Jornada Completa -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="journey"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">2.</span> A Jornada Completa: do
            prot√≥tipo √† produ√ß√£o
          </h2>
          <p class="text-gray-600 mb-8">
            A maior lacuna do artigo antigo era a aus√™ncia da jornada. Aqui ela
            est√°, expl√≠cita, organizada e profunda.
          </p>

          <div class="space-y-6">
            <!-- Etapa 1 -->
            <div class="step-card bg-gray-50 p-6 rounded-xl border border-gray-200">
              <div class="flex items-center gap-3 mb-3">
                <span class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-bold uppercase">Etapa 1</span>
                <h3 class="text-lg font-bold text-gray-900">
                  Prot√≥tipo (o estado ‚Äúrom√¢ntico‚Äù)
                </h3>
              </div>
              <p class="text-gray-600 mb-3">
                O objetivo √© apenas validar uma hip√≥tese:
                <em>‚ÄúO LLM consegue fazer o que eu quero?‚Äù</em>.
                Nenhuma preocupa√ß√£o com lat√™ncia, custo, carga, quedas de API,
                tokens, caching, logs ou resili√™ncia. √â a fase do ‚Äúfunciona?‚Äù.
              </p>
              <p class="text-gray-600 text-sm">
                Essa etapa existe para provar viabilidade. O resto ainda precisa ser constru√≠do.
              </p>
            </div>

            <!-- Etapa 2 -->
            <div class="step-card bg-blue-50 p-6 rounded-xl border border-blue-100">
              <div class="flex items-center gap-3 mb-3">
                <span class="bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-xs font-bold uppercase">Etapa 2</span>
                <h3 class="text-lg font-bold text-blue-900">
                  MVP T√©cnico (primeiro endpoint real)
                </h3>
              </div>
              <p class="text-blue-800 mb-3">
                A pergunta agora √©:
                <em>‚ÄúFunciona de ponta a ponta, com dados reais, dentro do meu backend?‚Äù</em>
                Voc√™ cria uma fun√ß√£o que busca dados no banco, um prompt que organiza as informa√ß√µes,
                uma chamada ao modelo e um retorno estruturado.
              </p>
              <p class="text-blue-800 text-sm">
                O MVP funciona, mas ainda √© fr√°gil: cai se a API cair, fica lento sob carga, custa caro,
                n√£o tem logs e n√£o escala.
              </p>
            </div>

            <!-- Etapa 3 -->
            <div class="step-card bg-purple-50 p-6 rounded-xl border border-purple-100">
              <div class="flex items-center gap-3 mb-3">
                <span class="bg-purple-200 text-purple-800 px-3 py-1 rounded-full text-xs font-bold uppercase">Etapa 3</span>
                <h3 class="text-lg font-bold text-purple-900">
                  Feature Robusta (nasce engenharia de verdade)
                </h3>
              </div>
              <p class="text-purple-800 mb-4">
                Os desafios reais aparecem: lat√™ncia alta, custos imprevis√≠veis,
                l√≥gica fr√°gil, erros silenciosos e escalabilidade limitada.
              </p>
              <ul class="list-disc pl-5 space-y-2 text-purple-900">
                <li>circuit breaker</li>
                <li>retry com backoff</li>
                <li>caching inteligente</li>
                <li>compress√£o de contexto</li>
                <li>limita√ß√£o de tokens</li>
                <li>troca de modelo</li>
                <li>abstra√ß√£o do provedor de LLM</li>
              </ul>
            </div>

            <!-- Etapa 4 -->
            <div class="step-card bg-amber-50 p-6 rounded-xl border border-amber-100">
              <div class="flex items-center gap-3 mb-3">
                <span class="bg-amber-200 text-amber-800 px-3 py-1 rounded-full text-xs font-bold uppercase">Etapa 4</span>
                <h3 class="text-lg font-bold text-amber-900">
                  Produ√ß√£o Operacional (o sistema respira sozinho)
                </h3>
              </div>
              <p class="text-amber-900 mb-3">
                A IA deixa de ser experimento e vira parte do produto. Agora √© essencial ter observabilidade e processos de confiabilidade.
              </p>
              <ul class="list-disc pl-5 space-y-2 text-amber-900">
                <li>m√©tricas de lat√™ncia</li>
                <li>dashboards de custo por endpoint</li>
                <li>alarmes autom√°ticos</li>
                <li>logs estruturados e fallback padr√£o</li>
                <li>testes A/B e versionamento de prompts</li>
                <li>filas ass√≠ncronas</li>
              </ul>
            </div>

            <!-- Etapa 5 -->
            <div class="step-card bg-teal-50 p-6 rounded-xl border border-teal-100">
              <div class="flex items-center gap-3 mb-3">
                <span class="bg-teal-200 text-teal-800 px-3 py-1 rounded-full text-xs font-bold uppercase">Etapa 5</span>
                <h3 class="text-lg font-bold text-teal-900">
                  Evolu√ß√£o cont√≠nua
                </h3>
              </div>
              <p class="text-teal-900 mb-3">
                A equipe monitora continuamente mudan√ßas nas respostas, varia√ß√£o de custos, degrada√ß√£o de modelos e necessidade de ajustes no prompt.
              </p>
              <p class="text-teal-900 text-sm">
                IA √© din√¢mica. Modelos mudam. Custos variam. Comportamentos se alteram. O sistema precisa acompanhar.
              </p>
            </div>
          </div>
        </section>

        <!-- 3. Abordagem Pr√°tica -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="approach"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">3.</span> Abordagem Pr√°tica
          </h2>
          <div class="prose max-w-none text-gray-600">
            <p class="mb-4">
              No artigo original, essa se√ß√£o apenas pula para ‚Äúvamos resumir
              avalia√ß√µes‚Äù. Agora vamos amarrar isso √† jornada.
              <strong>Resumir avalia√ß√µes</strong> √© o exemplo perfeito para
              ilustrar:
            </p>
            <ul class="list-disc pl-6 mb-4 space-y-1">
              <li>Alto volume de dados n√£o estruturados.</li>
              <li>Diferentes janelas de contexto.</li>
              <li>Risco de alucina√ß√£o e alto custo se mal implementado.</li>
              <li>Necessidade cr√≠tica de caching.</li>
            </ul>
            <p>
              Esse cen√°rio exige engenharia desde o in√≠cio, n√£o apenas um prompt
              simples.
            </p>
          </div>
        </section>

        <!-- 4. Conceitos Fundamentais -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="concepts"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">4.</span> Conceitos Fundamentais
          </h2>
          <p class="text-gray-600 mb-6">
            Abaixo est√° a vers√£o explicada com profundidade e implica√ß√£o
            pr√°tica.
          </p>
          <div class="overflow-x-auto">
            <table class="min-w-full text-sm text-left border-collapse">
              <thead
                class="bg-gray-100 text-gray-700 uppercase font-bold text-xs"
              >
                <tr>
                  <th class="px-6 py-3 rounded-tl-lg">Conceito</th>
                  <th class="px-6 py-3">Defini√ß√£o</th>
                  <th class="px-6 py-3 rounded-tr-lg">Implica√ß√£o Pr√°tica</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr>
                  <td class="px-6 py-4 font-semibold text-brand-700">Prompt</td>
                  <td class="px-6 py-4">√â o ‚Äúcontrato verbal‚Äù com o modelo.</td>
                  <td class="px-6 py-4 text-gray-600">
                    Prompt mal escrito ‚Üí modelo prolixo, caro e impreciso.
                  </td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="px-6 py-4 font-semibold text-brand-700">Token</td>
                  <td class="px-6 py-4">
                    Unidade de custo e unidade de lat√™ncia.
                  </td>
                  <td class="px-6 py-4 text-gray-600">
                    Dominar token √© dominar custo.
                  </td>
                </tr>
                <tr>
                  <td class="px-6 py-4 font-semibold text-brand-700">
                    Context Window
                  </td>
                  <td class="px-6 py-4">√â o ‚Äúcampo de vis√£o‚Äù do modelo.</td>
                  <td class="px-6 py-4 text-gray-600">
                    Se mandar dados demais fica caro, lento e o modelo ignora
                    metade. Exige pr√©-filtragem.
                  </td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="px-6 py-4 font-semibold text-brand-700">Cache</td>
                  <td class="px-6 py-4">Seu melhor amigo.</td>
                  <td class="px-6 py-4 text-gray-600">
                    A diferen√ßa entre pagar R$ 2.000 ou R$ 200 no final do m√™s.
                  </td>
                </tr>
                <tr>
                  <td class="px-6 py-4 font-semibold text-brand-700">
                    Circuit Breaker
                  </td>
                  <td class="px-6 py-4">Prote√ß√£o contra falhas externas.</td>
                  <td class="px-6 py-4 text-gray-600">
                    Sem ele, uma queda na OpenAI derruba seu app inteiro.
                  </td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="px-6 py-4 font-semibold text-brand-700">
                    Rate Limiting
                  </td>
                  <td class="px-6 py-4">Controle de fluxo de requisi√ß√µes.</td>
                  <td class="px-6 py-4 text-gray-600">
                    Garante que um usu√°rio (ou bot) n√£o gere milhares de resumos
                    em 5 segundos.
                  </td>
                </tr>
                <tr>
                  <td class="px-6 py-4 font-semibold text-brand-700">
                    Observabilidade
                  </td>
                  <td class="px-6 py-4">Visibilidade do sistema.</td>
                  <td class="px-6 py-4 text-gray-600">
                    Sem logs, sem m√©tricas ‚Üí voc√™ est√° voando √†s cegas.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- 5. O Pipeline Completo -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="pipeline"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">5.</span> O Pipeline Completo ‚Äî vers√£o
            REAL
          </h2>
          <p class="text-gray-600 mb-8">
            Aqui est√° o que o artigo original n√£o explicou. Agora est√° completo,
            pedag√≥gico e aplic√°vel.
          </p>

          <!-- Flow Diagram Text -->
          <div
            class="bg-slate-900 text-slate-300 p-6 rounded-xl font-mono text-sm mb-8 overflow-x-auto whitespace-nowrap shadow-inner"
          >
            Usu√°rio ‚Üí Frontend ‚Üí API Gateway ‚Üí Servi√ßo Orquestrador ‚Üí Banco de
            Dados ‚Üí <br />
            Processamento ‚Üí Prompt Builder ‚Üí LLM Provider ‚Üí Resposta ‚Üí
            P√≥s-processamento ‚Üí Devolu√ß√£o ao App
          </div>

          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <h4 class="font-bold text-brand-700 mb-2">üîµ 1) Frontend</h4>
              <p class="text-sm text-gray-600 mb-4">
                Respons√°vel por UX de carregamento, timeouts locais e mensagens
                de fallback.
              </p>

              <h4 class="font-bold text-brand-700 mb-2">üîµ 2) API Gateway</h4>
              <p class="text-sm text-gray-600 mb-4">
                Filtra abuso e protege a infraestrutura (auth, rate limits,
                verifica√ß√£o de payload).
              </p>

              <h4 class="font-bold text-brand-700 mb-2">
                üîµ 3) Servi√ßo Orquestrador (backend da IA)
              </h4>
              <p class="text-sm text-gray-600 mb-4">
                O c√©rebro do sistema. Controla busca de dados, prompt, chamadas
                e erros. Deveria ser desacoplado do resto do backend.
              </p>

              <h4 class="font-bold text-brand-700 mb-2">
                üîµ 4) Banco de Dados
              </h4>
              <p class="text-sm text-gray-600 mb-4">
                N√£o √© s√≥ ‚Äúbuscar‚Äù. √â filtrar por data, eliminar ru√≠do e agrupar
                dados para economizar tokens.
              </p>
            </div>
            <div>
              <h4 class="font-bold text-brand-700 mb-2">
                üîµ 5) Prompt Builder
              </h4>
              <p class="text-sm text-gray-600 mb-4">
                Gera prompts previs√≠veis e est√°veis. Um prompt √© um artefato
                versionado.
              </p>

              <h4 class="font-bold text-brand-700 mb-2">
                üîµ 6) LLM Provider (Abstra√ß√£o)
              </h4>
              <p class="text-sm text-gray-600 mb-4">
                Nunca chame o modelo direto. Crie interfaces como
                <code>generateSummary()</code> para permitir troca de modelos e
                fallbacks.
              </p>

              <h4 class="font-bold text-brand-700 mb-2">
                üîµ 7, 8 & 9) P√≥s-processamento e Entrega
              </h4>
              <p class="text-sm text-gray-600 mb-4">
                Corrige formatos, monitora m√©tricas (custo/lat√™ncia) e entrega
                de forma segura ao usu√°rio.
              </p>
            </div>
          </div>
        </section>

        <!-- 6. M√£o na Massa -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="hands-on"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">6.</span> M√£o na Massa: Implementa√ß√£o
          </h2>
          <div class="prose max-w-none text-gray-700 mb-8">
            <p>
              Chegou o momento de transformar a arquitetura em c√≥digo. Vamos
              construir a feature de resumo de avalia√ß√µes passo a passo,
              mostrando o ‚Äúporqu√™‚Äù de cada etapa.
            </p>
          </div>

          <!-- Code Section 1 -->
          <div class="mb-8">
            <h3 class="font-bold text-gray-800 mb-2">
              6.1. Busca de Avalia√ß√µes com Filtro Inteligente
            </h3>
            <p class="text-sm text-gray-600 mb-3">
              A filtragem controla a quantidade de tokens, melhora o foco do
              modelo e reduz custos.
            </p>
            <pre
              class="code-block"
            ><code><span class="keyword">def</span> <span class="function">get_recent_reviews</span>(restaurant_id: str, limit: int = 20) -&gt; List[str]:
    reviews = query_db(
        <span class="string">"""
        SELECT text
        FROM reviews
        WHERE restaurant_id = :id
        ORDER BY created_at DESC
        LIMIT :limit
        """</span>,
        {<span class="string">"id"</span>: restaurant_id, <span class="string">"limit"</span>: limit}
    )
    <span class="keyword">return</span> [r[<span class="string">"text"</span>] <span class="keyword">for</span> r <span class="keyword">in</span> reviews]</code></pre>
          </div>

          <!-- Code Section 2 -->
          <div class="mb-8">
            <h3 class="font-bold text-gray-800 mb-2">
              6.2. Constru√ß√£o do Prompt
            </h3>
            <p class="text-sm text-gray-600 mb-3">
              Prompts estruturados garantem respostas mais consistentes e
              previs√≠veis.
            </p>
            <pre
              class="code-block"
            ><code><span class="keyword">def</span> <span class="function">build_summary_prompt</span>(reviews: List[str]) -&gt; str:
    joined = <span class="string">"\n- "</span>.join(reviews)

    <span class="keyword">return</span> <span class="string">f"""
Voc√™ √© um assistente de delivery especializado em an√°lises de clientes.

Resuma as avalia√ß√µes abaixo em at√© 4 linhas, destacando:
- pontos positivos,
- pontos negativos,
- tom geral das experi√™ncias.

Avalia√ß√µes:
- {joined}
"""</span>.strip()</code></pre>
          </div>

          <!-- Code Section 3 -->
          <div class="mb-8">
            <h3 class="font-bold text-gray-800 mb-2">
              6.3. Chamada ao Modelo com Resili√™ncia
            </h3>
            <p class="text-sm text-gray-600 mb-3">
              Timeout, tratamento de erro e encapsulamento garantem
              estabilidade.
            </p>
            <pre
              class="code-block"
            ><code><span class="keyword">async def</span> <span class="function">call_llm</span>(prompt: str):
    <span class="keyword">try</span>:
        response = client.chat.completions.create(
            model=<span class="string">"gpt-3.5-turbo"</span>,
            messages=[{<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: prompt}],
            max_tokens=150,
            temperature=0.4,
            timeout=4
        )
        <span class="keyword">return</span> response.choices[0].message.content.strip()

    <span class="keyword">except</span> TimeoutError:
        <span class="keyword">raise</span> HTTPException(503, <span class="string">"LLM demorou demais"</span>)

    <span class="keyword">except</span> Exception:
        <span class="keyword">raise</span> HTTPException(503, <span class="string">"Servi√ßo indispon√≠vel"</span>)</code></pre>
          </div>

          <div
            class="p-4 bg-brand-50 border-l-4 border-brand-500 rounded text-sm text-brand-900"
          >
            <strong>O que completa a feature em produ√ß√£o:</strong> Cache
            distribu√≠do (Redis), Circuit Breaker, logs estruturados e m√©tricas
            de lat√™ncia.
          </div>
        </section>

        <!-- 7. M√©tricas, Riscos e Boas Pr√°ticas -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="risks"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">7.</span> M√©tricas, Riscos e Boas
            Pr√°ticas
          </h2>
          <div class="prose max-w-none text-gray-700 mb-6">
            <p>
              Operar IA sem m√©tricas √© como dirigir no escuro. A seguir est√£o os
              indicadores essenciais.
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-8 mb-8">
            <div>
              <h3
                class="font-bold text-gray-800 border-b border-gray-200 pb-2 mb-4"
              >
                M√©tricas Essenciais
              </h3>
              <ul class="space-y-4">
                <li class="flex items-start">
                  <i class="fas fa-chart-line mt-1 text-brand-500 w-6"></i>
                  <div>
                    <span class="font-bold text-gray-900"
                      >Lat√™ncia (p95 e p99)</span
                    >
                    <p class="text-sm text-gray-600">
                      Um pequeno aumento no p95 pode derrubar a satisfa√ß√£o.
                      Meta: p95 < 1200ms.
                    </p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-coins mt-1 text-yellow-500 w-6"></i>
                  <div>
                    <span class="font-bold text-gray-900">Custo por Token</span>
                    <p class="text-sm text-gray-600">
                      Monitore gasto total e varia√ß√£o por endpoint. Otimiza√ß√£o
                      pode reduzir 80% do custo.
                    </p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i
                    class="fas fa-exclamation-triangle mt-1 text-red-500 w-6"
                  ></i>
                  <div>
                    <span class="font-bold text-gray-900"
                      >Taxa de Erro e Fallback</span
                    >
                    <p class="text-sm text-gray-600">
                      Se subir repentinamente, o prompt pode estar inst√°vel ou a
                      janela de contexto estourando.
                    </p>
                  </div>
                </li>
              </ul>
            </div>
            <div>
              <h3
                class="font-bold text-gray-800 border-b border-gray-200 pb-2 mb-4"
              >
                Boas Pr√°ticas de Engenharia
              </h3>
              <ul class="space-y-4">
                <li class="flex items-start">
                  <i class="fas fa-check-circle mt-1 text-green-500 w-6"></i>
                  <div>
                    <span class="font-bold text-gray-900"
                      >Sempre use Cache</span
                    >
                    <p class="text-sm text-gray-600">
                      Chaveie por restaurante, expire em janelas previs√≠veis. √â
                      a opera√ß√£o sustent√°vel.
                    </p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt mt-1 text-blue-500 w-6"></i>
                  <div>
                    <span class="font-bold text-gray-900"
                      >Circuit Breaker & Timeouts</span
                    >
                    <p class="text-sm text-gray-600">
                      Se o provedor falhar, pause chamadas. Use timeouts
                      agressivos (curtos).
                    </p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-history mt-1 text-purple-500 w-6"></i>
                  <div>
                    <span class="font-bold text-gray-900"
                      >Versione seus Prompts</span
                    >
                    <p class="text-sm text-gray-600">
                      Facilita debugging, testes A/B e rollback de
                      comportamento.
                    </p>
                  </div>
                </li>
              </ul>
            </div>
          </div>

          <div class="bg-red-50 p-4 rounded-lg border border-red-100">
            <h4 class="text-red-800 font-bold mb-2">Principais Riscos</h4>
            <p class="text-sm text-red-700">
              Lat√™ncia excessiva, Custos imprevis√≠veis, Alucina√ß√µes (inventar
              dados), Depend√™ncia do provedor e Prompt Drift (mudan√ßas
              silenciosas no modelo).
            </p>
          </div>
        </section>

        <!-- 8. Evid√™ncias & Experimenta√ß√£o -->
        <section
          class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100"
          id="evidence"
        >
          <h2
            class="text-2xl font-bold text-gray-900 mb-6 border-b pb-4 flex items-center gap-2"
          >
            <span class="text-brand-600">8.</span> Evid√™ncias & Experimenta√ß√£o
          </h2>
          <div class="prose max-w-none text-gray-700 mb-6">
            <p>
              Uma feature de IA s√≥ se justifica quando gera impacto real.
              Experimenta√ß√£o elimina achismo.
            </p>
          </div>

          <div class="space-y-6">
            <div class="bg-blue-50 p-6 rounded-xl border-l-4 border-blue-500">
              <h3 class="font-bold text-blue-900 mb-2">
                O Ciclo de Experimenta√ß√£o
              </h3>
              <ol class="list-decimal pl-5 space-y-2 text-sm text-blue-800">
                <li>
                  <strong>Hip√≥tese:</strong> "Um resumo mais curto aumenta a
                  taxa de leitura."
                </li>
                <li>
                  <strong>Implementa√ß√£o Controlada:</strong> Novo prompt
                  isolado.
                </li>
                <li>
                  <strong>Teste A/B:</strong> Controle vs Tratamento (ex:
                  90/10).
                </li>
                <li>
                  <strong>Coleta de M√©tricas:</strong> Lat√™ncia, custo,
                  convers√£o.
                </li>
                <li><strong>Decis√£o:</strong> Promover, reverter ou iterar.</li>
              </ol>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
              <div class="p-4 border border-gray-200 rounded-lg">
                <h4 class="font-bold text-gray-800 mb-2">
                  Como medir qualidade?
                </h4>
                <ul class="text-sm text-gray-600 space-y-1 list-disc pl-4">
                  <li>
                    <strong>Avalia√ß√£o Humana:</strong> Clareza, tom,
                    imparcialidade.
                  </li>
                  <li>
                    <strong>Avalia√ß√£o Autom√°tica (QA):</strong> Usar LLM para
                    verificar contradi√ß√µes.
                  </li>
                  <li>
                    <strong>M√©tricas Quantitativas:</strong> Tamanho,
                    diversidade lexical.
                  </li>
                </ul>
              </div>
              <div class="p-4 border border-gray-200 rounded-lg">
                <h4 class="font-bold text-gray-800 mb-2">
                  Impacto Real (KPIs)
                </h4>
                <ul class="text-sm text-gray-600 space-y-1 list-disc pl-4">
                  <li>Redu√ß√£o de 20-40% na taxa de abandono.</li>
                  <li>Aumento de cliques na se√ß√£o.</li>
                  <li>Diminui√ß√£o de tickets de suporte.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- 9. Reflex√µes & Pr√≥ximos Passos -->
        <section
          class="bg-brand-900 rounded-2xl p-8 md:p-10 shadow-xl text-gray-200 border border-white/10"
          id="reflections"
        >
          <h2 class="text-2xl md:text-3xl font-bold text-white mb-6">
            9. Reflex√µes &amp; Pr√≥ximos Passos
          </h2>
          <div class="w-full h-px bg-white/10 mb-8"></div>
          <div class="grid lg:grid-cols-12 gap-10 md:gap-16">
            <div
              class="lg:col-span-7 space-y-6 text-lg leading-relaxed font-light"
            >
              <p>
                Ao longo deste artigo, percorremos a jornada completa de
                transformar uma simples chamada de LLM em uma feature real,
                confi√°vel e escal√°vel.
              </p>
              <p>
                A principal verdade √©:
                <strong
                  >O sucesso de uma feature de IA depende muito mais de
                  engenharia, observabilidade e resili√™ncia do que do modelo em
                  si.</strong
                >
              </p>
              <p class="text-brand-200">
                O prompt √© importante. O modelo √© importante. Mas o que torna
                essa feature pronta para milh√µes de usu√°rios √© tudo aquilo que
                existe ao redor: infraestrutura, design, monitoramento e
                disciplina.
              </p>
            </div>
            <div class="lg:col-span-5">
              <h3
                class="text-sm font-bold text-brand-300 uppercase tracking-widest mb-6 font-mono"
              >
                Pr√≥ximos Passos
              </h3>
              <ul class="space-y-4">
                <li class="flex items-start group">
                  <a
                    class="flex items-center w-full hover:bg-white/5 p-2 -ml-2 rounded transition-colors"
                    href="02-prompt-engineering-pace.html"
                  >
                    <span
                      class="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white/10 rounded text-xs text-brand-300 mr-3"
                    >
                      <i class="fas fa-arrow-right"></i>
                    </span>
                    <div class="flex flex-col">
                      <span
                        class="text-[10px] uppercase tracking-widest opacity-50 text-brand-300"
                        >Pr√≥ximo</span
                      >
                      <span
                        class="text-sm text-gray-300 group-hover:text-white font-medium leading-tight"
                        >Prompt Engineering com PACE</span
                      >
                    </div>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </section>
      </main>
    </div>
    <footer class="bg-white border-t border-gray-200 mt-12 py-8">
      <div class="max-w-7xl mx-auto px-4 text-center text-gray-500 text-sm">
        <p>
          ¬© 2025 LLM Engineering Series. Constru√≠do com
          <i class="fas fa-heart text-red-400"></i> e IA.
        </p>
      </div>
    </footer>
      <script src="scripts/export-visual.js"></script>
    <!-- CDN Libraries for Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/docx@8.5.0/build/index.js"></script>
  
  <script src="scripts/export-to-docx.js" defer></script>
</body>
</html>
